name: Bench Rerun Failed Fixture
run-name: Bench rerun failed fixture (${{ inputs.seed_id }})

on:
  workflow_dispatch:
    inputs:
      seed_id:
        description: "Seed identifier used by benchmark fixture seeding"
        required: true
        type: string

jobs:
  intentionally-fail:
    runs-on: ubuntu-latest
    steps:
      - name: Emit fixture context
        run: echo "seed_id=${{ inputs.seed_id }}"
      - name: Intentional failure on first attempt
        run: |
          if [ "${{ github.run_attempt }}" = "1" ]; then
            echo "First attempt — failing intentionally"
            exit 1
          fi
          echo "Rerun attempt ${{ github.run_attempt }} — succeeding"
